# 編排路線
這邊是目前正在處理的部分，主要就是羊奶的客戶不是固定的，有人會退訂有人會訂購，所以給配送員的地址排序是一件需要考慮的事，當然要給配送員最順最短的路徑，以往都是助理自己根據Google Map一個一個排的，那我這邊用到Google的OR-tools，這個問題很明顯就是經典的演算法TSP問題，透過Google的工具加上Google有一個API可以回傳你給的座標之間距離，搭配這兩個工具就可以做好自動分配的腳本  


## 實作
OR-Tools裡面解TSP的輸入要是一個距離矩陣，例如有:  
* a城市
* b城市
* c城市
* d城市
距離矩陣dst_matrix=[[0,2,3,4],
                    [2,0,5,6],
                    [3,5,0,7],
                    [4,6,7,0]
                  ]
[a-a,a-b,a-c,a-d]  
[b-a,b-b,b-c,b-d]  
[c-a,c-b,c-c,c-d]  
[d-a,d-b,d-c,d-d]  
那我這邊只知道兩點的座標，所以需要Google Maps Distance Matrix API去拿兩座標的距離(剛好是json格式)，輸入給OR-tool解出最佳路徑。

## 目前問題
OR-Tools貌似不能餵太多筆資料，我測試輸入10筆左右沒問題，但是我這邊要排序100多筆的座標，沒跑出東西，API確定沒問題，有印出來看過，也有考慮過是不是沒讓他回到原點，測試過一樣跑不出來，推測是運算量太大或是沒有最佳解，或是我使用方法錯誤，目前正在想辦法讓他噴錯誤訊息~
